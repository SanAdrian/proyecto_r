- Table `mydb`.`barrio`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`barrio` (
  `idBarrio` INT NOT NULL,
  `nombreBarrio` VARCHAR(100) NULL,
  `calle_idCalle` INT NOT NULL,
  `ruta_idRuta` INT NOT NULL,
  PRIMARY KEY (`idBarrio`, `calle_idCalle`, `ruta_idRuta`),
  INDEX `fk_barrio_calle1_idx` (`calle_idCalle` ASC) VISIBLE,
  INDEX `fk_barrio_ruta1_idx` (`ruta_idRuta` ASC) VISIBLE,
  CONSTRAINT `fk_barrio_calle1`
    FOREIGN KEY (`calle_idCalle`)
    REFERENCES `mydb`.`calle` (`idCalle`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_barrio_ruta1`
    FOREIGN KEY (`ruta_idRuta`)
    REFERENCES `mydb`.`ruta` (`idRuta`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`centro_reciclaje`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`centro_reciclaje` (
  `idCentro_reciclaje` INT NOT NULL,
  `nombreCentro_reciclaje` VARCHAR(100) NULL,
  `numeroCalle` VARCHAR(45) NULL,
  `ubicacion_idUbicacion` INT NOT NULL,
  `horarioCentro_reciclaje` VARCHAR(45) NULL,
  PRIMARY KEY (`idCentro_reciclaje`, `ubicacion_idUbicacion`),
  INDEX `fk_centro_reciclaje_ubicacion1_idx` (`ubicacion_idUbicacion` ASC) VISIBLE,
  CONSTRAINT `fk_centro_reciclaje_ubicacion1`
    FOREIGN KEY (`ubicacion_idUbicacion`)
    REFERENCES `mydb`.`ubicacion_contenedor` (`idUbicacion`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`encarcado_centro_reciclaje`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`encarcado_centro_reciclaje` (
  `idEncarcado_centro_reciclaje` INT NOT NULL,
  `nombreEncargado_centro_reciclaje` VARCHAR(80) NULL,
  `apellidoEncargado_centro_reciclaje` VARCHAR(80) NULL,
  `telefonoEncargado_centro_reciclaje` VARCHAR(45) NULL,
  `dniEncargado_centro_reciclaje` VARCHAR(10) NULL,
  `correoEncarcado_centro_reciclajecol` VARCHAR(45) NULL,
  `centro_reciclaje_idCentro_reciclaje` INT NOT NULL,
  `centro_reciclaje_ubicacion_idUbicacion` INT NOT NULL,
  PRIMARY KEY (`idEncarcado_centro_reciclaje`, `centro_reciclaje_idCentro_reciclaje`, `centro_reciclaje_ubicacion_idUbicacion`),
  INDEX `fk_encarcado_centro_reciclaje_centro_reciclaje1_idx` (`centro_reciclaje_idCentro_reciclaje` ASC, `centro_reciclaje_ubicacion_idUbicacion` ASC) VISIBLE,
  CONSTRAINT `fk_encarcado_centro_reciclaje_centro_reciclaje1`
    FOREIGN KEY (`centro_reciclaje_idCentro_reciclaje` , `centro_reciclaje_ubicacion_idUbicacion`)
    REFERENCES `mydb`.`centro_reciclaje` (`idCentro_reciclaje` , `ubicacion_idUbicacion`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`turno`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`turno` (
  `idTurno` INT NOT NULL,
  `ruta_idRuta` INT NOT NULL,
  PRIMARY KEY (`idTurno`, `ruta_idRuta`),
  INDEX `fk_turno_ruta1_idx` (`ruta_idRuta` ASC) VISIBLE,
  CONSTRAINT `fk_turno_ruta1`
    FOREIGN KEY (`ruta_idRuta`)
    REFERENCES `mydb`.`ruta` (`idRuta`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`dia`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`dia` (
  `idDia` INT NOT NULL,
  `dia` VARCHAR(45) NULL,
  `ruta_idRuta` INT NOT NULL,
  PRIMARY KEY (`idDia`, `ruta_idRuta`),
  INDEX `fk_dia_ruta1_idx` (`ruta_idRuta` ASC) VISIBLE,
  CONSTRAINT `fk_dia_ruta1`
    FOREIGN KEY (`ruta_idRuta`)
    REFERENCES `mydb`.`ruta` (`idRuta`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`estadistica_residuo_tipo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`estadistica_residuo_tipo` (
  `idEstadistica_residuo_tipo` INT NOT NULL,
  `cantidadEstadistica_residuo_tipo` VARCHAR(45) NULL,
  `porcentajeResiduo_tipo` INT NULL,
  `fechaEstadistica_residuo_tipocol` DATE NULL,
  PRIMARY KEY (`idEstadistica_residuo_tipo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`tipo_residuo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`tipo_residuo` (
  `idTipo_residuo` INT NOT NULL,
  `nombreTipo_residuo` VARCHAR(45) NULL,
  `centro_reciclaje_idCentro_reciclaje` INT NOT NULL,
  `centro_reciclaje_ubicacion_idUbicacion` INT NOT NULL,
  `estadistica_residuo_tipo_idEstadistica_residuo_tipo` INT NOT NULL,
  PRIMARY KEY (`idTipo_residuo`, `centro_reciclaje_idCentro_reciclaje`, `centro_reciclaje_ubicacion_idUbicacion`, `estadistica_residuo_tipo_idEstadistica_residuo_tipo`),
  INDEX `fk_tipo_residuo_centro_reciclaje1_idx` (`centro_reciclaje_idCentro_reciclaje` ASC, `centro_reciclaje_ubicacion_idUbicacion` ASC) VISIBLE,
  INDEX `fk_tipo_residuo_estadistica_residuo_tipo1_idx` (`estadistica_residuo_tipo_idEstadistica_residuo_tipo` ASC) VISIBLE,
  CONSTRAINT `fk_tipo_residuo_centro_reciclaje1`
    FOREIGN KEY (`centro_reciclaje_idCentro_reciclaje` , `centro_reciclaje_ubicacion_idUbicacion`)
    REFERENCES `mydb`.`centro_reciclaje` (`idCentro_reciclaje` , `ubicacion_idUbicacion`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tipo_residuo_estadistica_residuo_tipo1`
    FOREIGN KEY (`estadistica_residuo_tipo_idEstadistica_residuo_tipo`)
    REFERENCES `mydb`.`estadistica_residuo_tipo` (`idEstadistica_residuo_tipo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`mensaje_recomendacion_tipo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`mensaje_recomendacion_tipo` (
  `idMensaje_recomendacion_tipo` INT NOT NULL,
  `mensaje` LONGTEXT NULL,
  `usuario_idUsuario` INT NOT NULL,
  `usuario_direccionUsuario_idDireccion` INT NOT NULL,
  `usuario_tipo_usuario_idTipo_usuario` INT NOT NULL,
  PRIMARY KEY (`idMensaje_recomendacion_tipo`, `usuario_idUsuario`, `usuario_direccionUsuario_idDireccion`, `usuario_tipo_usuario_idTipo_usuario`),
  INDEX `fk_mensaje_recomendacion_tipo_usuario1_idx` (`usuario_idUsuario` ASC, `usuario_direccionUsuario_idDireccion` ASC, `usuario_tipo_usuario_idTipo_usuario` ASC) VISIBLE,
  CONSTRAINT `fk_mensaje_recomendacion_tipo_usuario1`
    FOREIGN KEY (`usuario_idUsuario` , `usuario_direccionUsuario_idDireccion` , `usuario_tipo_usuario_idTipo_usuario`)
    REFERENCES `mydb`.`usuario` (`idUsuario` , `direccionUsuario_idDireccion` , `tipo_usuario_idTipo_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
